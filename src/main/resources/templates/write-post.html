<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create New Post</title>
    <style>
        #drop-zone {
            width: 300px;
            height: 200px;
            border: 2px dashed #ccc;
            border-radius: 20px;
            font-family: Arial;
            text-align: center;
            padding: 20px;
            margin: 20px 0;
        }
        #drop-zone.dragover {
            background-color: #e1e1e1;
        }
    </style>
</head>
<body>
<h1>Create New Post</h1>
<form th:action="@{/create}" method="post" enctype="multipart/form-data">
    <!-- 기존 입력 필드들 유지 -->
    <div>
        <label for="title">제목:</label>
        <input type="text" id="title" name="title" required>
    </div>
    <div>
        <label for="foundAt">발견 시기:</label>
        <input type="text" id="foundAt" name="foundAt" required>
    </div>
    <div>
        <label for="foundLocation">발견 장소:</label>
        <input type="text" id="foundLocation" name="foundLocation" required>
    </div>
    <div>
        <label for="detail">상세:</label>
        <textarea id="detail" name="detail" required></textarea>
    </div>
    <div>
        <label for="contact">연락:</label>
        <input type="text" id="contact" name="contact" required>
    </div>
    <div>
        <label for="tempoLocation">보호중인 장소:</label>
        <input type="text" id="tempoLocation" name="tempoLocation" required>
    </div>
    <h2>Animal Information</h2>
    <div>
        <label for="animalName">이름:</label>
        <input type="text" id="animalName" name="animalDTO.name" required>
    </div>
    <div>
        <label for="animalBreed">Breed:</label>
        <input type="text" id="animalBreed" name="animalDTO.breed" required>
    </div>
    <div>
        <label for="animalAge">나이:</label>
        <input type="number" id="animalAge" name="animalDTO.age" required>
    </div>
    <div>
        <label for="animalWeight">무게:</label>
        <input type="number" id="animalWeight" name="animalDTO.weight" required>
    </div>
    <div>
        <label for="animalGender">성별:</label>
        <select id="animalGender" name="animalDTO.gender">
            <option value="MALE">Male</option>
            <option value="FEMALE">Female</option>
        </select>
    </div>
    <div>
        <label for="animalNeuteringStatus">중성화 여부:</label>
        <select id="animalNeuteringStatus" name="animalDTO.neuteringStatus">
            <option value="COMPLETE">완료</option>
            <option value="INCOMPLETE">미완료</option>
            <option value="UNKNOWN">모름</option>
        </select>
    </div>
    <div>
        <label for="animalSpecies">종류:</label>
        <select id="animalSpecies" name="animalDTO.species" required>
            <option value="DOG">Dog</option>
            <option value="CAT">Cat</option>
            <option value="ETC">그 외</option>
        </select>
    </div>

    <!-- 드래그 앤 드롭 영역 수정 -->
    <div id="drop-zone">
        드래그 앤 드롭으로 이미지를 올려주세요<br>
        또는<br>
        <input type="file" id="files" name="files" accept="image/*" multiple style="display:none;">
        <button type="button" onclick="document.getElementById('files').click()">파일 선택</button>
    </div>
    <div id="file-names"></div>

    <div>
        <button type="submit">Create Post</button>
    </div>
</form>

<script>
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('files');
    const fileNames = document.getElementById('file-names');
    let selectedFiles = [];

    dropZone.addEventListener('dragover', (e) => {
        e.preventDefault();
        dropZone.classList.add('dragover');
    });

    dropZone.addEventListener('dragleave', () => {
        dropZone.classList.remove('dragover');
    });

    dropZone.addEventListener('drop', (e) => {
        e.preventDefault();
        dropZone.classList.remove('dragover');
        fileInput.files = e.dataTransfer.files;
        updateFileNames();
    });

    fileInput.addEventListener('change', updateFileNames);

    function updateFileNames() {
        fileNames.innerHTML = '';
        for (let i = 0; i < fileInput.files.length; i++) {
            fileNames.innerHTML += `<p>선택된 파일 ${i+1}: ${fileInput.files[i].name}</p>`;
        }
    }
</script>

</body>
</html>